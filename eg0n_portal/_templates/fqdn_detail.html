{% extends "ui/base.html" %}
{% load render_table from django_tables2 %}
{% load ui_tags %}
{% load i18n static %}
{% block title %}{{ site_meta.title }} | {{ model_name|title }} > Detail{% endblock title %}
{% block page_title %}{{ model_name|title }} > Detail{% endblock page_title %}
{% block page_body %}
<div class="col-lg-12" data-pk="{{ pk }}">
    <div class="card card-lg">
        <div class="card-body markdown">
            <div class="row align-items-center">
                <div class="col"></div>
                <div class="col-auto">
                    <a href="{% url model_name|add:'_delete' pk %}" class="btn">Delete</a>
                </div>
                <div class="col-auto">
                    <a href="{% url model_name|add:'_update' pk %}" class="btn btn-primary">Edit</a>
                </div>
            </div>

            <h1>{{ object.record.fqdn }}</h1>
                <div class="mb-3 row">
                    <label class="col-3 col-form-label text-uppercase">{{ object.record|get_object_label:"fqdn" }}</label>
                    <div class="col">{{ object.record|get_object_value:"fqdn" }}</div>
                </div>
                <div class="mb-3 row">
                    <label class="col-3 col-form-label text-uppercase">Event</label>
                    <div class="col"><a href="{% url 'event_detail' object.record.event.pk %}">{{ object.record.event.name }}</a></div>
                </div>
                <div class="mb-3 row">
                    <label class="col-3 col-form-label text-uppercase">{{ object.record|get_object_label:"author" }}</label>
                    <div class="col"><a href="{% url 'event_list' %}?user={{ object.record.author.id }}">{{ object.record|get_object_value:"author" }}</a></div>
                </div>
                <div class="mb-3 row">
                    <label class="col-3 col-form-label text-uppercase">{{ object.record|get_object_label:"contributors" }}</label>
                    <div class="col">
                        {% for user in object.record.contributors.all %}
                        <a href="{% url 'event_list' %}?user={{ user.pk }}">{{ user.username }}</a>{% if not forloop.last %}, {% endif %}
                        {% endfor %}
                    </div>
                </div>
                <div class="mb-3 row">
                    <label class="col-3 col-form-label text-uppercase">Has duplicated</label>
                    <div class="col">
                        {% if duplicated %}
                        <span class="text-danger">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"
                                class="icon icon-tabler icons-tabler-filled icon-tabler-square-check">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path
                                    d="M18.333 2c1.96 0 3.56 1.537 3.662 3.472l.005 .195v12.666c0 1.96 -1.537 3.56 -3.472 3.662l-.195 .005h-12.666a3.667 3.667 0 0 1 -3.662 -3.472l-.005 -.195v-12.666c0 -1.96 1.537 -3.56 3.472 -3.662l.195 -.005h12.666zm-2.626 7.293a1 1 0 0 0 -1.414 0l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l2 2l.094 .083a1 1 0 0 0 1.32 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z">
                                </path>
                            </svg>
                        </span>
                        {% else %}
                        <span class="text-success">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"
                                class="icon icon-tabler icons-tabler-filled icon-tabler-square-x">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path
                                    d="M19 2h-14a3 3 0 0 0 -3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3 -3v-14a3 3 0 0 0 -3 -3zm-9.387 6.21l.094 .083l2.293 2.292l2.293 -2.292a1 1 0 0 1 1.497 1.32l-.083 .094l-2.292 2.293l2.292 2.293a1 1 0 0 1 -1.32 1.497l-.094 -.083l-2.293 -2.292l-2.293 2.292a1 1 0 0 1 -1.497 -1.32l.083 -.094l2.292 -2.293l-2.292 -2.293a1 1 0 0 1 1.32 -1.497z" />
                            </svg>
                        </span>
                        {% endif %}
                    </div>
                </div>
                <div class="mb-3 row">
                    <label class="col-3 col-form-label text-uppercase">{{ object.record|get_object_label:"confidence" }}</label>
                    <div class="col">{{ object.record|get_object_value:"confidence" }}</div>
                </div>
                <div class="mb-3 row">
                    <label class="col-3 col-form-label text-uppercase">{{ object.record|get_object_label:"validation_status" }}</label>
                    <div class="col">{{ object.record|get_object_value:"validation_status" }}</div>
                </div>
                <div class="mb-3 row">
                    <label class="col-3 col-form-label text-uppercase">{{ object.record|get_object_label:"expired_at" }}</label>
                    <div class="col">{{ object.record|get_object_value:"expired_at" }}</div>
                </div>
                <div class="mb-3 row">
                    <label class="col-3 col-form-label text-uppercase">{{ object.record|get_object_label:"created_at" }}</label>
                    <div class="col">{{ object.record|get_object_value:"created_at" }}</div>
                </div>
                <div class="mb-3 row">
                    <label class="col-3 col-form-label text-uppercase">{{ object.record|get_object_label:"updated_at" }}</label>
                    <div class="col">{{ object.record|get_object_value:"updated_at" }}</div>
                </div>

            <h2>{{ object.record|get_object_label:"description"|title }}</h2>
            {{ object.record|get_object_value:"description"|markdownify|safe }}

        </div>
    </div>
</div>
{% endblock page_body %}
